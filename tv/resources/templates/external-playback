<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      eventCookie="@@@eventCookie@@@" dtvPlatform="@@@dtvPlatform@@@">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Miro - External Playback Template</title>

    <link href="resource:css/external.css" rel="stylesheet" type="text/css" />
    <link href="resource:css/video-info.css" rel="stylesheet" type="text/css" />

    <t:include filename="dynamic.js" />
    <t:include filename="external.js" />

    <t:execOnLoad><![CDATA[
this = app.controller.videoInfoItem
thisItemView = views.items.filter(lambda x: x.getID() == this.getID())
app.controller.videoInfoItem = None
import os.path
from miro.plat.utils import filenameToUnicode
filename = filenameToUnicode(os.path.basename(this.getFilename()))
]]></t:execOnLoad>
    <t:execOnUnload><![CDATA[
thisItemView.unlink()
import os.path
]]></t:execOnUnload>

</head>

<body onload="startCountdown(@@@this.getID()@@@)">
    <div id="external-container-basic">
    	<span i18n:translate="">Miro can't play this file.  You may be able to open it with a different program.<br /><br /><strong>Filename:</strong> <span i18n:name="filename" t:replace="filename"/><br /><strong>File type:</strong> <span i18n:name="format" t:replace="this.getFormat(emptyForUnknown=False)"/></span><br /><a style="color: white;" href="javascript:revealItem(@@@this.getID()@@@);"><span i18n:translate="">REVEAL FILE</span></a>

<br style="clear: both;" />
        <a id="external-button-left" href="javascript:playItemExternally(@@@this.getID()@@@)">
            <span i18n:translate="">Play Externally</span>
        </a>
        
        <a id="external-button-right" href="javascript:skipItem(@@@this.getID()@@@)">
            <span i18n:translate="">Skip &gt;&gt; <b i18n:name="countdown" id="countdown" /></span>
        </a>
    </div>
    
    <div id="embedded-video-info">
        <div id="video_info_area"><t:includeTemplate filename="video-info" /></div>
    </div>
</body>

</html>
